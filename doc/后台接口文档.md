# Broker 后台接口 V1.0 说明文档

## 登录
**接口地址：**`“https://server:port/api/v1/login”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |
|-------|------:|------:|
|username       |String     |用户名        |
|password       |String     |密码     |

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "", //失败时错误信息
    "data" : {
    }
}
```

## 登出
**接口地址：**`“https://server:port/api/v1/logout”`  
**请求方式：**`GET`  


|参数 |类型 |说明 |
|-------|------:|------:|
|无      |       |       |

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "" //失败时错误信息
}
```


## 验证token的正确性
**接口地址** `“https://server:port/api/v1/user/valid_token”`  
**请求方式** `POST`  


|参数 |类型 |说明 |是否必填 |
|-------|------:|------:|------:|
|adminUserId       |long     |用户id     |Y|
|token       |String     |token       |Y|


**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "" //失败时错误信息
}
```


## 初始化密码
**接口地址** `“https://server:port/api/v1/user/init_password”`  
**请求方式** `POST`  


|参数 |类型 |说明 |是否必填 |
|-------|------:|------:|------:|
|password       |String     |password        |Y|
|confirmedPassword       |String     |confirmedPassword     |Y|
|token       |String     |token       |Y|
|adminUserId       |String     |用户id     |Y|

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "" //失败时错误信息
}
```

## 币列表

**接口地址：**`“https://server:port/api/v1/token/query”`  
**请求方式：**`GET`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|current        |  int |当前页|Y|
|pageSize        |  int |每页条数|Y|
|tokenName        |  string |待查询的tokenName|N|

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "", //失败时错误信息
    "data" : {
        "current": 1,
        "pageSize": 4,
        "total": 7,
        "list": [
            {
                "tokenId": "BCH",
                "tokenName": "BCH",
                "tokenFullName": "BCH",
                "description": null,
                "minPrecision": 0,
                "isPublished": false,
                "isVirtual": 0,
                "depositMinQuantity": "0.0",
                "allowWithdraw": true,
                "allowDeposit": true,
                "withdrawToken":"BTC", //提现手续费收取token
                "tokenIcon": "https://tigers.oss-cn-qingdao.aliyuncs.com/token/BCH.svg",
                "tokenDetail": ""
            }
        ]
    }
}
```

## 币 允许充值
**接口地址：**`“https://server:port/api/v1/token/allow_deposit”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |
|-------|------:|------:|
|tokenId     |Long       |token的Id       |

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "" //失败时错误信息
}
```

## 币 禁止充值
**接口地址：**`“https://server:port/api/v1/token/forbid_deposit”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |
|-------|------:|------:|
|tokenId     |Long       |token的Id       |

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "" //失败时错误信息
}
```

## 币 允许提现
**接口地址：**`“https://server:port/api/v1/token/allow_withdraw”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |
|-------|------:|------:|
|tokenId     |Long       |token的Id       |

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "" //失败时错误信息
}
```

## 币 禁止提现
**接口地址：**`“https://server:port/api/v1/token/forbid_withdraw”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |
|-------|------:|------:|
|tokenId     |Long       |token的Id       |

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "" //失败时错误信息
}
```

## 币 上架
**接口地址：**`“https://server:port/api/v1/token/allow_publish”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |
|-------|------:|------:|
|tokenId     |Long       |token的Id       |

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "" //失败时错误信息
}
```

## 币 下架
**接口地址：**`“https://server:port/api/v1/token/forbid_publish”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |
|-------|------:|------:|
|tokenId     |Long       |token的Id       |

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "" //失败时错误信息
}
```

## 币配置定时任务

**接口地址：**`“https://server:port/api/v1/token/task/edit_config”`  
**请求方式：**`POST`  


| 参数           |    类型 | 是否必填 | 说明                   |
| -------------- | ------: | -------: | ---------------------- |
| id             |    Long |     选填 | token的Id              |
| tokenId        |  String |     必填 |                        |
| published      | Boolean |     必填 | 是否页面可见           |
| depositStatus  | Boolean |     必填 | 是否可充值             |
| withdrawStatus | Boolean |     必填 | 是否可提币             |
| actionTime     |    Long |     必填 | 执行时间               |
| dailyTask      |     Int |     必填 | 1=每天执行 0=一次有效  |
| status         | Integer |     必填 | 0=无效 1=有效 2=已执行 |

**json返回数据**

```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "" //失败时错误信息
}
```

## 

## 币查询配置定时任务

**接口地址：**`“https://server:port/api/v1/token/task/query_configs”`  
**请求方式：**`POST`  


| 参数     | 类型 | 是否必填 | 说明 |
| -------- | ---: | -------: | ---- |
| fromId   | Long |     选填 |      |
| pageSize |  int |     必填 |      |

**json返回数据**

```json
{
    {
    "code": 0,
    "msg": "ok",
    "data": [
        {
            "id": "25",
            "orgId": "6001",
            "tokenId": "BTC",
            "published": true,
            "depositStatus": false,
            "withdrawStatus": false,
            "actionTime": "1601308800000",
            "created": "1600141223186",
            "updated": "1600141223186",
            "status": 1,
            "dailyTask": 0,
        },
        {
            "id": "24",
            "orgId": "6001",
            "tokenId": "ETH",
            "published": true,
            "depositStatus": false,
            "withdrawStatus": false,
            "actionTime": "1601308800000",
            "created": "1600141223186",
            "updated": "1600141223186",
            "status": 1,
            "dailyTask": 0,
        }
    ]
}
}
```

## 

## 合作的exchange列表

**接口地址：**`“https://server:port/api/v1/exchange/list”`  
**请求方式：**`GET`  


|参数 |类型 |说明 |
|-------|------:|------:|

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "", //失败时错误信息
    "data" : {
        "content": [
            {
            "id": 1002,
            "exchangeId": 301,
            "instanceId": null,
            "name": "Bhex",
            "fullName": "blue helix",
            "email": "b1@bhex.io",
            "phone": "18XXXXXXXX",
            "host": "xxxx.com",
            "earnestAddress": null,
            "contact": "Pony Ma",
            "basicInfo": "basic information"
            }
        ]
    }
}
```

## 币对列表
**接口地址：**`“https://server:port/api/v1/symbol”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|current        |  int |当前页|Y|
|pageSize        |  int |每页条数|Y|
|symbolName        |  string |待查询的symbolName|N|

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "", //失败时错误信息
    "data" : {
        "content": [
            {
                "symbolId": "BHCBTC",//币对ID
                "exchangeId": 301,//交易所ID
                "symbolName": "BHCBTC",//币对名称
                "baseTokenId": "BHC",//交易货币的ID
                "quoteTokenId": "BTC",//计价货币的ID
                "symbolAlias": "",//币对别名
                "minTradeQuantity": "0.0001",//单次交易最小交易base的数量
                "minTradeAmount": "1.0",//最小交易额
                "minPricePrecision": "0.00000001",//每次价格变动，最小的变动单位
                "basePrecision": "0.01",//交易货币精度值
                "allowTrade": false,//允许交易
                "published": true //true 上架 false 下架
            },
            {
                ...
            }
        ]
    }
}
```

## 币对 允许交易
**接口地址：**`“https://server:port/api/v1/symbol/allow_trade”`  
**请求方式：**`POST`  

|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|symbolId     |Long       |币对的Id       |Y|
|exchangeId     |Long       |币对交易所的Id       |Y|

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "" //失败时错误信息
}
```

## 币对 禁止交易
**接口地址：**`“https://server:port/api/v1/symbol/forbid_trade”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|symbolId     |Long       |币对的Id       |Y|
|exchangeId     |Long       |币对交易所的Id       |Y|

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "" //失败时错误信息
}
```

## 币对 上架
**接口地址：**`“https://server:port/api/v1/symbol/allow_publish”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|symbolId     |Long       |币对的Id       |Y|
|exchangeId     |Long       |币对交易所的Id       |Y|

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "" //失败时错误信息
}
```

## 币对 下架
**接口地址：**`“https://server:port/api/v1/symbol/forbid_publish”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|symbolId     |Long       |币对的Id       |Y|
|exchangeId     |Long       |币对交易所的Id       |Y|

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "" //失败时错误信息
}
```

## 合作交易所列表

**接口地址：**`“https://server:port/api/v1/exchange/list”`  
**请求方式：**`POST`  

|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "", //失败时错误信息
    "data": [
        {
            "id": 1002,
            "exchangeId": 301,
            "instanceId": null,
            "name": "Bhex",
            "fullName": "blue helix",
            "email": "b1@bhex.io",
            "phone": "18XXXXXXXX",
            "host": "xxxx.com",
            "earnestAddress": null,
            "contact": "Pony Ma",
            "basicInfo": "basic information",
            "isBind": null,
            "enabled": null
        }
    ]
}
```

## 查询合作交易所全部币对列表

**接口地址：**`“https://server:port/api/v1/symbol/exchange_symbols”`  
**请求方式：**`POST`  

|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|current        |  int |当前页|Y|
|pageSize        |  int |每页条数|Y|
|exchangeId     |Long       |交易所Id      |Y|


**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "", //失败时错误信息
    "data": {
        "current": 1,
        "pageSize": 11,
        "total": 10,
        "list": [
            {
                "symbolId": "LTCUSDT", //币对id
                "symbolName": "LTCUSDT", //币对名称
                "baseTokenId": "LTC", //交易货币名称
                "quoteTokenId": "USDT", //计价货币名称
                "symbolAlias": "", //币对别名
                "status": 1, // 0 可添加 1已存在
                "exchangeId": 301  //交易所id
            }
        ]
    }
}
```

## 代理币对

**接口地址：**`“https://server:port/api/v1/symbol/agency”`  
**请求方式：**`POST` 

|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|symbolIds     |List<String>       |币对的Id       |Y|
|exchangeId     |Long       |交易所Id      |Y|

**json返回数据**
```json
{
    "code" : 0, //全局统一，0为请求成功，1为请求失败
    "msg"  : "" //失败时错误信息
}
```



## 用户管理 - 基础信息查询

**接口地址：**`“https://server:port/api/v1/brokeruser/get_broker_user”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |Long     | userid       |N|
|nationalCode     |string       |国家码      |N|
|phone     |string       |手机号     |N|
|email     |string     | email       |N|
**说明：** 可以通过 userid、手机号、和邮箱查询。 三个条件写一个就可以了，写多个条件只有一个查询条件生效，按userid、手机号、email顺序处理

**json返回数据**
```json
{
    "code": 0,
    "msg": null,
    "data": {
        "userId": "73553146307674112",
        "nationalCode": "",
        "mobile": "",
        "email": "t*******n@126.com",
        "bindGa": false,
        "verifyStatus": 0,//kyc 验证状态 0-未提交审核 1-未审核 2-审核通过 3-审核拒绝
        "created": 0,
        "userStatus": 1 //1-启用 2-禁用
    }
}
```

## 用户管理 - KYC信息查询

**接口地址：**`“https://server:port/api/v1/brokeruser/get_user_kyc”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |string     | userid       |Y|


**json返回数据**
```json
{
    "code": 0,
    "msg": null,
    "data": {
        "nationality": "China",
        "firstName": "最",
        "secondName": "后一次",
        "gender": 2,
        "cardType": "ID card",
        "cardNo": "44444444444444",
        "cardFrontUrl": "kyc/8HDz-yQekvUq58JKu-O4zJUR4JmC1C9JK81no99P_zY.jpg",
        "cardHandUrl": "kyc/QO7GBfcx8minpJZv8OwC-EaRDOTSeUEf1yxgAmvhED4.jpg",
        "verifyStatus": 2
    }
}
```

## 用户管理 - 用户资产

**接口地址：**`“https://server:port/api/v1/brokeruser/get_user_asset”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |string     | userid       |Y|


**json返回数据**
```json
{
    "code": 0,
    "msg": null,
    "data": {
            "tokenId": "BHC",
            "tokenFullName": "",
            "total": "0.20000000", //总资产
            "available": "0.20000000", //可用资产
            "locked": "0.00000000"//被冻结资产
        }
}
```



## 用户管理 - 提币地址

**接口地址：**`“https://server:port/api/v1/brokeruser/get_withdraw_address”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |string     | userid       |Y|


**json返回数据**
```json
{
    "code": 0,
    "msg": null,
    "data": [
        {
            "tokenId": "USDT", //币种
            "address": "15cRiEkLtWT3xkX4t1HaUgxEUzhux5GPcE",//提币地址
            "remark": "货币"//备注
        }
    ]
}
```

## 用户管理 - 登录记录

**接口地址：**`“https://server:port/api/v1/brokeruser/login_logs”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |string     | userid       |Y|
|current     |int     | 当前页数       |Y|
|pageSize     |string     | 每页条数       |Y|

**json返回数据**
```json
{
    "code": 0,
    "msg": null,
    "data": {
        "current": 2,
        "pageSize": 12,
        "total": 16,
        "list": [
            {
                "ip": "10.1.3.11", //ip
                "status": 1,  //1 成功 2 失败 3 未完成
                "created": 1533815021777 //登录的时间戳
            }
        ]
    }
}
```

## 用户管理 - 禁止账户登录

**接口地址：**`“https://server:port/api/v1/brokeruser/disable_user_login”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |string     | userid       |Y|

**json返回数据**
```json
{
    "code": 0,
    "msg": null
}
```


## 用户管理 - 启用账户登录

**接口地址：**`“https://server:port/api/v1/brokeruser/reopen_user_login”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |string     | userid       |Y|

**json返回数据**
```json
{
    "code": 0,
    "msg": null
}
```

## 用户管理 - 禁止API权限

**接口地址：**`“https://server:port/api/v1/brokeruser/disable_api_operation”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |string     | userid       |Y|

**json返回数据**
```json
{
    "code": 0,
    "msg": null
}
```


## 用户管理 - 启用API权限

**接口地址：**`“https://server:port/api/v1/brokeruser/reopen_api_operation”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |string     | userid       |Y|

**json返回数据**
```json
{
    "code": 0,
    "msg": null
}
```

## 订单管理 - 当前委托

**接口地址：**`“https://server:port/api/v1/order/current_orders”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |string     | userid       |Y|

**json返回数据**
```json
{
    "code": 0,
    "msg": null,
    "data": [
        {
            "orderId": "90628769396035584",
            "price": "0.90000000", //价格
            "quantity": "2.00000000", //数量
            "amount": "1.80000000", //金额
            "locked": "1.00000000", //锁定金额
            "executedQuantity": "1.00000000", //成交数量
            "executedAmount": "1.00000000", //成交金额
            "symbolId": "ETHUSDT",//币对
            "status": 1, //订单状态：
            "side": 1, // 买卖方向 BUY = 0; SELL = 1;
            "created": 1536343582425
        }
    ]
}
```

```json
    订单状态
    NEW = 0; // 订单已创建
    PARTIALLY_FILLED = 1; // 部分成交
    FILLED = 2; // 完全成交
    CANCELD = 4; // 已取消
    PENDING_CANCEL = 6; // 取消中
    REJECTED = 8; // 已拒绝
    // 保留字段
    PENDING_NEW = 10; // 内部保留
```

## 订单管理 - 历史委托

**接口地址：**`“https://server:port/api/v1/order/history_orders”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |string     | userid       |Y|

**json返回数据**
```json
{
    "code": 0,
    "msg": null,
    "data": [
        {
            "orderId": "90628769396035584",
            "price": "0.90000000", //价格
            "quantity": "2.00000000", //数量
            "amount": "1.80000000", //金额
            "locked": "1.00000000", //锁定金额
            "executedQuantity": "1.00000000", //成交数量
            "executedAmount": "1.00000000", //成交金额
            "symbolId": "ETHUSDT",//币对
            "status": 1, //订单状态：
            "side": 1, // 买卖方向 BUY = 0; SELL = 1;
            "created": 1536343582425
        }
    ]
}
```


## 订单管理 - 订单的交易列表

**接口地址：**`“https://server:port/api/v1/order/order_trades”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |string     | userid       |Y|
|orderId     |string     | orderId|Y|

**json返回数据**
```json
{
    "code": 0,
    "msg": null,
    "data": [
        {
            "createdAt": 1534669687588,
            "symbolId": "BTCUSDT",
            "side": 1,
            "price": "1.00000000",
            "quantity": "1.00000000",
            "amount": "1.00000000",
            "tokenFee": "0.00110000"
        }
    ]
}
```

## 订单管理 - 交易列表

**接口地址：**`“https://server:port/api/v1/order/trades”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |string     | userid       |Y|

**json返回数据**
```json
{
    "code": 0,
    "msg": null,
    "data": [
        {
            "createdAt": 1534669687588,
            "symbolId": "BTCUSDT",
            "side": 1,
            "price": "1.00000000",
            "quantity": "1.00000000",
            "amount": "1.00000000",
            "tokenFee": "0.00110000"
        }
    ]
}
```

## 用户管理 - 撤单

**接口地址：**`“https://server:port/api/v1/order/cancel_order”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |string     | userid       |Y|
|orderId     |string     | orderId|Y|

**json返回数据**
```json
{
    "code": 0,
    "msg": null
}
```

## 费率设置 - 列表

**接口地址：**`“https://server:port/api/v1/trade_fee_setting/list”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|baseTokenId     |string     | base token id       |N|
|quoteTokenId     |string     | quoteTokenId     |N|
|current     |int     | 当前页数       |Y|
|pageSize     |string     | 每页条数       |Y|

**json返回数据**
```json
{
    "code": 0,
    "msg": null,
    "data": {
        "current": 1,
        "pageSize": 15,
        "total": 9,
        "list": [
            {
                "exchangeId": "301",
                "symbolId": "BHCBTC",
                "makerFeeRate": "0.00100000",
                "makerRewardToTakerRate": "0.00100000",
                "takerFeeRate": "0.00100000",
                "takerRewardToMakerRate": "0.00100000"
            }
        ]
    }
}
```


## 费率设置 

**接口地址：**`“https://server:port/api/v1/trade_fee_setting/edit_trade_fee”`  
**请求方式：**`POST`  


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|exchangeId     |string     | 交易所id       |Y|
|symbolId     |string     | 币对     |Y|
|makerFeeRate     |number     | Maker费率   |Y|
|makerRewardToTakerRate     |number     | Maker对Taker奖励率       |Y|
|takerFeeRate     |number     | Taker费率 |Y|
|takerRewardToMakerRate     |number     | Taker对Maker奖励率       |Y|
**json返回数据**
```json
{
    "code": 0,
    "msg": null
}
```


## 广告单列表

**接口地址：**`“https://server:port/api/v1/otc/item/list”`
**请求方式：**`POST`


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |Long     | userid       |N|
|nationalCode     |string       |国家码      |N|
|phone     |string       |手机号     |N|
|email     |string     | email       |N|
|current     |int     | 当前页数       |Y|
|pageSize     |string     | 每页条数       |Y|
**json返回数据**
```json
{
    "code": 0,
    "msg": null,
    "data": [
         {
             "id": 123,广告单id
             "accountId":"67221581357125632",
             "tokenId":"BTC",
             "currencyId":"CNY", // 法币
             "side": 0, // 下单方向
             "price":"0.230000000000000000",//价格
             "quantity":"0.000000000000000000",//数量
             "lastQuantity":"0.00045",//剩余数量
             "executedQuantity":"LIMIT",//已成交数量
             "status":"NEW",//状态（10在线，20撤销，30完全成交）
             "createDate": 1530762873912  //创建时间
         }
     ]
}
```


## 订单列表

**接口地址：**`“https://server:port/api/v1/otc/order/list”`
**请求方式：**`POST`


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|orderId     |Long     | userid       |N|
|current     |int     | 当前页数       |Y|
|pageSize     |string     | 每页条数       |Y|
**json返回数据**
```json
{
    "code": 0,
    "msg": null,
    "data": [
         {
            "id": 123,广告单id
            "accountId":"67221581357125632",
            "tokenId":"BTC",
            "currencyId":"CNY", // 法币
            "side": 0, // 下单方向
            "price":"0.230000000000000000",//价格
            "quantity":"0.00045",//数量
            "status":10,//状态（10待支付，20已支付待确认，30申诉中，40撤销，50完全成交）
            "createDate": 1530762873912   //创建时间
         }
     ]
}
```


## 订单处理

**接口地址：**`“https://server:port/api/v1/otc/order/handle”`
**请求方式：**`POST`


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|orderId     |Long     | userid       |N|
|type     |int     | 操作类型（1，撤单；2，放币）       |Y|
**json返回数据**
```json
{
    "code": 0,
    "msg": null
}
```


## 白名单删除

**接口地址：**`“https://server:port/api/v1/otc/user/white/del”`
**请求方式：**`POST`


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |Long     | userid       |N|
**json返回数据**
```json
{
    "code": 0,
    "msg": null
}
```


## 白名单列表

**接口地址：**`“https://server:port/api/v1/otc/user/white/list”`
**请求方式：**`POST`


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |Long     | userid       |N|
|current     |int     | 当前页数       |Y|
|pageSize     |string     | 每页条数       |Y|
**json返回数据**
```json
{
    "code": 0,
    "msg": null
}
```


## 白名单添加

**接口地址：**`“https://server:port/api/v1/otc/user/white/add”`
**请求方式：**`POST`


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|userId     |Long     | userid       |N|
**json返回数据**
```json
{
    "code": 0,
    "msg": null
}
```


## 白名单状态

**接口地址：**`“https://server:port/api/v1/otc/white_list/status”`
**请求方式：**`POST`


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
```json
{
    "code": 0,
    "msg": null
}
```

## 白名单开关

**接口地址：**`“https://server:port/api/v1/otc/white_list/set”`
**请求方式：**`POST`


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|status     |int     | status（0关闭，1开启）       |N|
```json
{
    "code": 0,
    "msg": null
}
```

## 单条空投 支持锁仓

**接口地址：**`“https://broker-admin-7039.bhop.cloud/org_api/v1/transfer”`
**请求方式：**`POST`
|参数 |类型 |说明 |是否必填|  |
|-------|------:|------:|------:|------:|
|accessKey     |    string     |accessKey      |是| accessKey 会提供|
|signature    |    string     |signature     |是| 签名|
|token     |string     |token      |是| |
|clientOrderId|string  |客户端发起转账Id 幂等使用不能重复      |是| |
|lock     |number     |0转到用户可用 1转到用户锁仓 默认0     |是|
|businessType|number  |      |是| | 映射:401  手续费返还:402 代数解锁:403 团队解锁:404 交易解锁:405
|userId     |number     |0转到用户可用 1转到用户锁仓 默认0     |是|
|amount|string  |空投金额      |是| |


返回结果
```json
{
    "code": 0,
    "msg": null
}
```

## 批量转账接口 可批量 可单条 批量单次最多支持100条

**接口地址：**`“https://broker-admin-7039.bhop.cloud/org_api/v1/batch/transfer”`
**请求方式：**`POST`
|参数 |类型 |说明 |是否必填|  |
|-------|------:|------:|------:|------:|
|accessKey     |    string     |accessKey      |是| accessKey 会提供|
|signature    |    string     |signature     |是| 签名|
|token     |string     |token      |是| |
|clientOrderId|string  |客户端发起转账Id 幂等使用不能重复      |是| |
|businessType|number  |      |是| | 映射:401  手续费返还:402 代数解锁:403 团队解锁:404 交易解锁:405
|transfers|string|转账信息字符串|是| [{"userId":236747246331256832,"amount":"100.10"},{"userId":236747246331256833,"amount":"99.10"}] |

参数 JSON
```json
{
    "accessKey":"0kldcDQch6LwU58UbHjvDWuDP7lwtqgEAWDuyJaL4hg",
    "signature":"cLDPpMnOXJqBXyxhUQYKBZSipdobRpxV142WU5WD85c",
    "token":"BTC",
    "clientOrderId":"15580772496384511", //客户端发起转账Id 幂等使用不能重复 
    "businessType":"401", //映射:401  手续费返还:402 代数解锁:403 团队解锁:404 交易解锁:405
    "transfers":"[{"userId":236747246331256832,"amount":"100.10"},{"userId":236747246331256833,"amount":"99.10"}]"
}
```

## 成交明细

**接口地址：**`“https://broker-admin-7039.bhop.cloud/org_api/v1/trade/detail”`
**请求方式：**`POST`
|参数 |类型 |说明 |是否必填|  |
|-------|------:|------:|------:|------:|
|accessKey     |    string     |accessKey      |是| accessKey 会提供|
|signature    |    string     |signature     |是| 签名|
|baseTokenId     |string   |是| | BTCUSDT 指的BTC
|quoteTokenId     |string     |是| | BTCUSDT 指的USDT
|lastTradeId     | number   |是| | 最后一条数据的tradeId
|startTime     |number      |是| | 开始时间
|endTime     |number     |是| | 结束时间
|limit     |number      |是| | 条目数 最大500条


参数 JSON
```json
{
    "accessKey":"0kldcDQch6LwU58UbHjvDWuDP7lwtqgEAWDuyJaL4hg",
    "signature":"cLDPpMnOXJqBXyxhUQYKBZSipdobRpxV142WU5WD85c",
    "baseTokenId":"BTC", //BTCUSDT 指的BTC
    "quoteTokenId":"USDT", //BTCUSDT 指的USDT
    "lastTradeId":"15580772496384511", //最后一条数据的tradeId
    "startTime":"15580772496384511", //开始时间
    "endTime":"15580772496384511", //结束时间
    "limit":500 //最大500条
}
```

返回结果
```json
{
    "code": 0,
    "msg": null,
    "data":[
               {
                   "orderId":347689639443819008, //订单ID
                   "quantity":10, //数量
                   "side":1, //方向
                   "symbolId":"BTCUSDT", //交易币对
                   "fee":0.1, //手续费
                   "tradeId":347689503112161792, //成交明细ID
                   "userId":347689503112161792 //用户ID
               }
           ]
}
```

## 用户信息接口

**接口地址：**`“https://broker-admin-7039.bhop.cloud/org_api/v1/user/info”`
**请求方式：**`POST`
|参数 |类型 |说明 |是否必填|  |
|-------|------:|------:|------:|------:|
|accessKey     |    string     |accessKey      |是| accessKey 会提供|
|signature    |    string     |signature     |是| 签名|
|userId     |number   |是| | 用户ID


返回结果
```json
{
    "code": 0,
    "msg": null,
    "data":{
                "user_id": 231215678785585152,//用户ID
                "national_code": "86", //国家代码
                "mobile": "13811532114", //手机
                "email": "yue@bhex.com", //邮箱
                "register_type": 1, //注册方式 1 mobile 2 email
                "user_type": 1, //用户类型 1普通用户
                "verify_status": 2, //鉴权状态 1未鉴权 2 已鉴权 3 已拒绝
                "default_account_id": 231215678938542080, //accountId
                "register_date": 1542299056863, //注册时间
                "bind_trade_pwd": true //是否绑定交易密码
               }
}
```

## 查询最近更新用户列表

**接口地址：**`“https://broker-admin-7039.bhop.cloud/org_api/v1/brokeruser/changed”`
**请求方式：**`POST`


|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|accessKey     |    string     |accessKey      |是| accessKey 会提供|
|signature    |    string     |signature     |是| 签名|
|startTime     |number     |用户更新时间 开始     |是|
|endTime     |string|用户更新时间 截止   |是|
|fromId     |number|上一次列表的第一条记录的id，第一页写0    |是|
|endId     |number     |上一次列表的最后一条记录的id，第一页写0     |是|
|limit     |string     |每页显示条数   |否，默认30条|


参数 JSON
```json
{
    "accessKey":"0kldcDQch6LwU58UbHjvDWuDP7lwtqgEAWDuyJaL4hg",
    "signature":"cLDPpMnOXJqBXyxhUQYKBZSipdobRpxV142WU5WD85c",
    "startTime":0,
    "endTime":1558944031021,
    "fromId":"0",
    "endId":"1558077",
    "limit":30
}
```

返回结果
```json
{
    "code": 0,
    "msg": null,
    "data": {
        "userId": "73553146307674112",
        "nationalCode": "",
        "mobile": "",
        "email": "t*******n@126.com",
        "realEmail": "test@126.com",
        "realMobile": "18588889999",
        "bindGa": false,
        "verifyStatus": 0,//kyc 验证状态 0-未提交审核 1-未审核 2-审核通过 3-审核拒绝
        "created": 0,
        "userStatus": 1 //1-启用 2-禁用
    }
}
```
## 映射接口

**接口地址：**`“https://broker-admin-7039.bhop.cloud/org_api/v1/mapping”`
**请求方式：**`POST`

|参数 |类型 |说明 |是否必填|
|-------|------:|------:|------:|
|accessKey     |    string     |accessKey      |是| accessKey 会提供|
|signature    |    string     |signature     |是| 签名|
|sourceToken     |string|运营账户出账token   |是|
|sourceAmount     |number|运营账户转出数量    |是|
|sourceClientOrderId     |number|运营账户发起ID    |是|
|targetUserId     |number     |用户id      |是|
|targetToken     |string     |用户出账token   |是|
|targetAmount     |number     |用户入账数量      |是|
|targetClientOrderId|number  |目标账户发起ID      |是|
|lock     |number     |0转到用户可用 1转到用户锁仓 默认0     |是|
|businessType|number  |      |是| | 映射:401  手续费返还:402 代数解锁:403 团队解锁:404 交易解锁:405

返回结果
```json
{
    "code": 0,
    "msg": "ok"
}
```

## 获取用户锁仓数据
**接口地址：**`“https://broker-admin-7039.bhop.cloud/org_api/v1/lock/position”`
**请求方式：**`POST`
|参数 |类型 |说明 |是否必填|  |
|-------|------:|------:|------:|------:|
|accessKey     |    string     |accessKey      |是| accessKey 会提供|
|signature    |    string     |signature     |是| 签名|
|userId     |number   |是| | 用户ID
|token     |string   |是| | token


返回结果
```json
{
    "code": 0,
    "msg": null,
    "data":[
                {
                    "orgId": 6001, //券商ID
                    "accountId": 122216245228131, //账户ID
                    "locked": "0.000000000000000000", //任务解锁lock字段
                    "available": "10.000000000000000000", //锁定仓位的可用
                    "total": "10.000000000000000000", //锁仓总余额
                    "tokenId": "ETH" //token
                }
           ]
}
```

## 解锁锁仓
**接口地址：**`“https://broker-admin-7039.bhop.cloud/org_api/v1/lock/unlock”`
**请求方式：**`POST`
|参数 |类型 |说明 |是否必填|  |
|-------|------:|------:|------:|------:|
|accessKey     |    string     |accessKey      |是| accessKey 会提供|
|signature    |    string     |signature     |是| 签名|
|userId     |number   |是| | 用户ID
|token     |string   |是| | token
|clientOrderId     |number   |是| | 幂等ID
|unlockAmount     |string   |是| | 解锁金额
|unlockReason     |string   |是| | 解锁原因


返回结果
```json
{
    "code": 0,
    "msg": "ok"
}
```

## 券商端经纪人列表页
**接口地址：**`“https://broker-admin-7039.bhop.cloud/api/v1/agent/query/broker/agent/list”`
**请求方式：**`POST`

|参数 |类型 |说明 |是否必填|  |
|-------|------:|------:|------:|------:|
|userId     |long   |否| | 用户ID
|agentName     |string   |否| | 经纪人名称
|page     |int   |否| | 经纪人名称
|limit     |string   |否| | 经纪人名称


返回结果
```json
{
    "code":0,
    "msg":"ok",
    "data":{
        "data":[
            {
                "userId":"231215678785585152",
                "agentName":"岳大官人",
                "mobile":"13811532884",
                "email":"83541408@qq.com",
                "level":1,
                "leader":"无",
                "leaderMobile":"",
                "superiorName":"",
                "peopleNumber":0,
                "time":"2019-12-05 08:48:33"
            }
        ],
        "page":1
    }
}
```

## 券商端经纪人用户列表页
**接口地址：**`“https://broker-admin-7039.bhop.cloud/api/v1/agent/query/broker/user/list”`
**请求方式：**`POST`

|参数 |类型 |说明 |是否必填|  |
|-------|------:|------:|------:|------:|
|userId     |long   |否| | 用户ID
|email     |string   |否| | 用户ID
|mobile     |string   |否| | 用户ID
|agentName     |string   |否| | 经纪人名称
|page     |int   |否| | 经纪人名称
|limit     |string   |否| | 经纪人名称



返回结果
```json
{
    "code":0,
    "msg":"ok",
    "data":{
        "data":[
            {
                "id":"0",
                "userId":"231215678785585152",
                "mobile":"13811532884",
                "email":"83541408@qq.com",
                "userName":"test",
                "country":"中国",
                "agentName":"岳大官人",
                "agentUserId":"231215678785585152",
                "agentLevel":1,
                "registerTime":"2019-12-05 08:48:29"
            }
        ],
        "page":1
    }
}
```

## 券商端新增1级经纪人接口
**接口地址：**`“https://broker-admin-7039.bhop.cloud/api/v1/agent/add”`
**请求方式：**`POST`

|参数 |类型 |说明 |是否必填|  |
|-------|------:|------:|------:|------:|
|userId     |long   |是| | 用户ID
|agentName     |string   |是| |经纪人姓名
|leader     |string   |否| |负责人
|mobile     |string   |否| |负责人联系方式
|mark     |string   |否| | 说明
|coinRate     |string   |否| | 币币当前获得佣金比例
|lowLevelCoinRate     |string   |否| | 币币分配给下级佣金比例
|contractRate     |string   |否| | 合约当前获得佣金比例
|lowLevelContractRate     |string   |否| |合约分配给下级佣金比例

返回结果
```json
    {
        "code":0,
        "msg":"ok"
    }
```

## 解除经纪人
**接口地址：**`“https://broker-admin-7039.bhop.cloud/api/v1/agent/cancel/agent”`
**请求方式：**`POST`

|参数 |类型 |说明 |是否必填|  |
|-------|------:|------:|------:|------:|
|userId     |number   |是| | 用户ID


返回结果
```json
{
    "code": 0,
    "msg": "ok"
}
```

## 重新分配经纪人
**接口地址：**`“https://broker-admin-7039.bhop.cloud/api/v1/agent/rebind/agent”`
**请求方式：**`POST`

|参数 |类型 |说明 |是否必填|  |
|-------|------:|------:|------:|------:|
|userId     |number   |是| | 用户ID
|targetUserId     |number   |是| | 目标用户ID



返回结果
```json
{
    "code": 0,
    "msg": "ok"
}
```

## 配置折扣信息接口
**接口地址：**`“https://broker-admin-7039.bhop.cloud/api/v1/broker/fee/add/discount/config”`
**请求方式：**`POST`

post 参数
```json
{
    "id": 0,
 		"exchangeId" : 0
    "symbolId" : ""
    "coinTakerBuyFeeDiscount": "0.01",
    "coinTakerSellFeeDiscount": "0.01",
    "coinMakerBuyFeeDiscount": "0.01",
    "coinMakerSellFeeDiscount": "0.01",
    "optionTakerBuyFeeDiscount": "0.01",
    "optionTakerSellFeeDiscount": "0.01",
    "optionMakerBuyFeeDiscount": "0.01",
    "optionMakerSellFeeDiscount": "0.01",
    "contractTakerBuyFeeDiscount": "0.01",
    "contractTakerSellFeeDiscount": "0.01",
    "contractMakerBuyFeeDiscount": "0.01",
    "contractMakerSellFeeDiscount": "0.01",
    "name": "0.01级别折扣",
    "mark": "备注信息"
}
```

返回结果
```json
{
    "code": 0,
    "msg": "ok"
}
```

## 获取折扣配置信息list接口
**接口地址：**`“https://broker-admin-7039.bhop.cloud/api/v1/broker/fee/query/discount/config/list”`
**请求方式：**`POST`

返回结果
```json
{
    "code":0,
    "msg":"ok",
    "data":[
        {
            "id":"0",
            "orgId":"6001",
 						"exchangeId" : 0
    				"symbolId" : ""
            "coinTakerBuyFeeDiscount":"0",
            "coinTakerSellFeeDiscount":"0",
            "coinMakerBuyFeeDiscount":"0",
            "coinMakerSellFeeDiscount":"0",
            "optionTakerBuyFeeDiscount":"0",
            "optionTakerSellFeeDiscount":"0",
            "optionMakerBuyFeeDiscount":"0",
            "optionMakerSellFeeDiscount":"0",
            "contractTakerBuyFeeDiscount":"0",
            "contractTakerSellFeeDiscount":"0",
            "contractMakerBuyFeeDiscount":"0",
            "contractMakerSellFeeDiscount":"0",
            "name":"0.01级别折扣",
            "mark":"备注信息"
        }
    ]
}
```

## 获取单个折扣配置信息接口
**接口地址：**`“https://broker-admin-7039.bhop.cloud/api/v1/broker/fee/query/discount/config”`
**请求方式：**`POST`

post 参数
```json
{"discountId":1}
```

返回结果
```json
{
    "code":0,
    "msg":"ok",
    "data":{
        "id":"1",
        "orgId":"6001",
       	"exchangeId" : 0
        "symbolId" : ""
        "coinTakerBuyFeeDiscount":"0",
        "coinTakerSellFeeDiscount":"0",
        "coinMakerBuyFeeDiscount":"0",
        "coinMakerSellFeeDiscount":"0",
        "optionTakerBuyFeeDiscount":"0",
        "optionTakerSellFeeDiscount":"0",
        "optionMakerBuyFeeDiscount":"0",
        "optionMakerSellFeeDiscount":"0",
        "contractTakerBuyFeeDiscount":"0",
        "contractTakerSellFeeDiscount":"0",
        "contractMakerBuyFeeDiscount":"0",
        "contractMakerSellFeeDiscount":"0",
        "name":"0.01级别折扣",
        "mark":"备注信息"
    }
}
```

## 存储用户折扣组关系接口
**接口地址：**`“https://broker-admin-7039.bhop.cloud/api/v1/broker/fee/save/user/discount/config`
**请求方式：**`POST`

post 参数
```json
{
    "userId":231215678785585152,
    "discountId":1,
    "isBase":1
}
```

返回结果
```json
{
    "code": 0,
    "msg": "ok"
}
```


## 取消用户折扣组关系接口
**接口地址：**`“https://broker-admin-7039.bhop.cloud/api/v1/broker/fee/cancel/user/discount/config`
**请求方式：**`POST`

post 参数
```json
{
    "userId":231215678785585152
}
```

返回结果
```json
{
    "code": 0,
    "msg": "ok"
}
```

## 获取单个用户折扣详情接口
**接口地址：**`“https://broker-admin-7039.bhop.cloud/api/v1/broker/fee/query/user/discount/config`
**请求方式：**`POST`

post 参数
```json
{
    "userId":231215678785585152
}
```

返回结果
```json
{
    "code":0,
    "msg":"ok",
    "data":{
        "baseGroupId":"0",
        "temporaryGroupId":"0",
        "baseGroupName":"",
        "temporaryGroupName":"",
        "useId":"231215678785585152",
        "status":1
    }
}
```
## 配置券商手续费接口
**接口地址：**`“https://broker-admin-7039.bhop.cloud/api/v1/broker/fee/add/symbol/config`
**请求方式：**`POST`

post 参数
```json
{
    "id":0,
    "exchangeId":301,
    "symbolId":"YANTUSDT",
    "takerBuyFee":"0.01",
    "takerSellFee":"0.01",
    "makerBuyFee":"0.01",
    "makerSellFee":"0.01"
}
```

返回结果
```json
{
    "code": 0,
    "msg": "ok"
}
```

## 获取券商手续费配置列表

**接口地址：**`“https://broker-admin-7039.bhop.cloud/api/v1/broker/fee/query/symbol/fee/config/list`
**请求方式：**`POST`


返回结果

```json
{
    "code":0,
    "msg":"ok",
    "data":[
        {
            "id":"2",
            "orgId":"6001",
            "symbolId":"BTCUSDT",
            "takerBuyFee":"0.0001",
            "takerSellFee":"0.0001",
            "makerBuyFee":"0.0001",
            "makerSellFee":"0.0001",
            "status":1,
            "created":"2019-12-30 09:21:26",
            "updated":"2019-12-30 09:21:27"
        }
    ]
}
```

# staking相关

## 1.获取理财产品列表（按产品ID倒序）

* 接口地址: `https://server:port/api/v1/staking/product/list`
* 请求方法: POST
* 请求参数：

| 参数 | 类型 | 是否必填 | 描述 | 备注 |
| :----------- | :------ | :------- | :----------- | :---------- |
| startProductId | long | 选填 | 起始产品Id |查询小于此ID  |
| limit | int | 选填 | 记录数 |默认20  |


* 请求响应：

```JSON
{
    "code": 0,
    "data": [{
        "dividendType": 0, //派息方式:0=分期付息 1=一次性还本付息
        "interestStartDate": 1598284800000, //计息开始时间
        "isShow": 1,  //是否可见 1可见，0不可见
        "id": 3, //产品id
        "productName": "ETH-1",
        "status": 0,  //产品状态 0=待认购，1=认购中，2=认购结束，3=已售罄，4=计息中，5=已结束
        "subscribeEndDate": 1598198400000,  //开始认购时间
        "subscribeStartDate": 1597852800000,  //结束认购时间
        "tokenId": "ETH", 
        "tokenName": "ETH",
        "totalAmount": "1000000", //总额度金额
        "type": 1  //产品类型:0=定期 1=活期（非币多多） 2=定期锁仓
    }, {
        "dividendType": 0,
        "interestStartDate": 1598284800000,
        "isShow": 1,
        "id": 1,
        "productName": "BTC-1",
        "status": 0,
        "subscribeEndDate": 1598198400000,
        "subscribeStartDate": 1597852800000,
        "tokenId": "BTC",
        "tokenName": "BTC",
        "totalAmount": "1000",
        "type": 0
    }],
    "msg": "ok"
}
```



## 2.获取理财产品详情
* 接口地址: `https://server:port/api/v1/staking/product/get`
* 请求方法: POST
* 请求参数：

| 参数 | 类型 | 是否必填 | 描述 | 备注 |
| :----------- | :------ | :------- | :----------- | :---------- |
| id | long | 必填 | 产品Id |  |


* 请求响应：

```JSON
{
    "code": 0,
    "msg": "ok",
    "data": {
        "id": "1",
        "orgId": "6001",
        "tokenId": "BTC",
        "tokenName": "BTC",
        "dividendType": 0, //派息方式:0=分期付息 1=一次性还本付息
        "dividendTimes": 3, //派息次数
        "timeLimit": 60, //产品期限
        "referenceApr": "0.2", //参考利率
        "actualApr": "0", //实际利率
        "perUsrLowLots": 1, //用户最低认购份数
        "perUsrUpLots": 10000, //用户最大认购份数
        "upLimitLots": 1000000, //总可认购份数
        "showUpLimitLots": 1000000, //页面展示总可认购份数
        "perLotAmount": "0.001", //每份金额
        "subscribeStartDate": "1597852800000", //认购开始时间
        "subscribeEndDate": "1598198400000", //认购结束时间
        "interestStartDate": "1598284800000", //计息开始时间
        "sort": 1, //排序
        "type": 0, //产品类型:0=定期 1=定期锁仓 2=活期
        "isShow": 1, //推荐显示位置
        "status": 0, //产品状态 0=认购前 1=认购中 2=认购结束未开始计息 4=计息中 5=已结束
        "principalAccountId": "12466789", //本金账户
        "dividendAccountId": "987654321", //派息账户
        "fundFlow": 0,  
        "arrposid": 0,
        "createdAt": "1596530642328",
        "updatedAt": "1596530642328",
        "localInfos": [{
            "language": "en-us",
            "productName": "BTC-1",
            "productDetails": "product-details", 
            "protocolUrl": "www.baidu.url",
            "enabled": true // 1有效 0无效
        }, {
            "language": "zh-cn",
            "productName": "BTC一期",
            "productDetails": "产品详情",
            "protocolUrl": "www.baidu.url",
            "enabled": true // 1有效 0无效
        }],
        "rebates": [{
            "id": "1",
            "rebateDate": "1598630400000",
            "rebateRate": "0.12",
            "canModify": 1 //0不可修改  1可修改
        }, {
            "id": "2",
            "rebateDate": "1600444800000",
            "rebateRate": "0.14",
            "canModify": 1 //0不可修改  1可修改
        }, {
            "id": "3",
            "rebateDate": "1603036800000",
            "rebateRate": "0.16",
            "canModify": 1 //0不可修改  1可修改
        }],
        "subscribeLimit": {
            "verifyKyc": 0,
            "verifyBindPhone": 0,
            "verifyBalance": 0,
            "verifyAvgBalance": 0,
            "balanceRuleJson": "",
            "levelLimit": ""
        }
    }
}
```

## 3.产品上架
* 接口地址: `https://server:port/api/v1/staking/product/online`
* 请求方法: POST
* 请求参数：

| 参数 | 类型 | 是否必填 | 描述 | 备注 |
| :----------- | :------ | :------- | :----------- | :---------- |
| id | long | 必填 | 产品Id |  |


* 请求响应：

```JSON
{
    "code": 0,
    "msg": "ok",
}
```

## 4.产品下架
* 接口地址: `https://server:port/api/v1/staking/product/offline`
* 请求方法: POST
* 请求参数：

| 参数 | 类型 | 是否必填 | 描述 | 备注 |
| :----------- | :------ | :------- | :----------- | :---------- |
| id | long | 必填 | 产品Id |  |


* 请求响应：

```JSON
{
    "code": 0,
    "msg": "ok",
}
```

## 5.保存产品
* 接口地址: `https://server:port/api/v1/staking/product/save`
* 请求方法: POST
* 请求参数：
```JSON
{
    "id":0 //修改的时候传入，新增可不传
    "tokenId": "EOS", 
    "dividendType": 0, //派息方式:0=分期付息 1=一次性还本付息
    "dividendTimes": 2, //派息次数
    "timeLimit": 40, //产品期限
    "referenceApr": "0.8", //参考利率
    "perUsrLowLots": 10, //用户最低认购份数
    "perUsrUpLots": 1000000, //用户最大认购份数
    "upLimitLots": 10000002222, //总认购（发行）份数
    "showUpLimitLots": 10000002222,  //页面展示总认购（发行）份数
    "perLotAmount": "1", //每份金额
    "subscribeStartDate": "1597852800000", //认购开始时间
    "subscribeEndDate": "1597852800001", //认购结束时间
    "interestStartDate": "1597852800002", //计息开始时间
    "sort": 1, 
    "type": 0, //产品类型:0=定期 1=定期锁仓 2=活期
    "principalAccountId": "618701336852090624", //本金账户
    "dividendAccountId": "618701336852090624", //派息账户
    "arrposid": 0,
    "localInfos": [{
        "language": "en_US",
        "productName": "EOS-1",
        "protocolUrl": "www.eos.url",
        "productDetails": "eos niubi"
    }, {
        "language": "zh_CN",
        "productName": "EOS一期",
        "protocolUrl": "www.eos.url",
        "productDetails": "eos 牛逼"
    }],
    "rebates": [{
        "id":0 //修改的时候传入，新增可不传
        "rebateDate": "1597852800010",
        "rebateRate": "0.1"
    }, {
        "id":0 //修改的时候传入，新增可不传
        "rebateDate": "1597852800014",
        "rebateRate": "0.1"
    }],
    "limit": {
        "verifyKyc": 1,
        "verifyBindPhone": 1,
        "verifyBalance": 1,
        "verifyAvgBalance": 0,
        "balanceRuleJson": "",
        "levelLimit": ""
    }
}
```

* 请求响应：

```JSON
{
    "code": 0,
    "msg": "ok",
}
```



## 6.券商理财产品权限
* 接口地址: `https://server:port/api/v1/staking/product/get_permission`
* 请求方法: POST
* 请求参数：


* 请求响应：

```JSON
{
    "code": 0,
    "msg": "ok",
    "allowFixed": 1, //允许定期产品，1=允许，0=不允许
    "allowFixedLock": 0 //允许定期锁仓产品，1=允许，0=不允许
}
```


## 7.查询待派息记录
* 接口地址: `https://server:port/api/v1/staking/product/rebate/undo_list`
* 请求方法: POST
* 请求参数：

| 参数 | 类型 | 是否必填 | 描述 | 备注 |
| :----------- | :------ | :------- | :----------- | :---------- |
| productType | int | 选填 | 产品类型 |  |

* 请求响应：

```JSON
{
    "code": 0,
    "msg": "ok",
    "data": [
        {
            "id": "19",
            "productId": "9",
            "productName": "BTC-2",
            "productType": 0,
            "dividendType": 0, //派息方式:0=分期付息 1=一次性还本付息
            "tokenId": "BTC", //本金币种
            "tokenName": "BTC", //本金币种名称
            "rebateDate": "1597852800000",  //计息时间
            "principalAmount": "0.21", //本金金额
            "interestAmount": "0.00005749",  //利息金额
            "interestTokenId": "BTC", //利息币种
            "interestTokenName": "BTC", //利息币种名称
            "rebateRate": "0.1",
            "status": 1, //0=待派息 1=已计算，待派息 2=已派息 3=取消派息 4=无效
            "numberOfPeriods": 1,
            "updateAt": "1598346704562"
        },
        {
            "id": "18",
            "productId": "9",
            "productName": "BTC-2",
            "productType": 0,
            "dividendType": 0,
            "tokenId": "BTC",
            "tokenName": "BTC",
            "rebateDate": "1597766400000",
            "principalAmount": "0.21",
            "interestAmount": "0",
            "interestTokenId": "BTC",
            "interestTokenName": "BTC",
            "rebateRate": "0.1",
            "status": 1,
            "numberOfPeriods": 1,
            "updateAt": "1597916140632"
        }
    ]
}
```

## 8.派息
* 接口地址: `https://server:port/api/v1/staking/product/rebate/transfer`
* 请求方法: POST
* 请求参数：

| 参数 | 类型 | 是否必填 | 描述 | 备注 |
| :----------- | :------ | :------- | :----------- | :---------- |
| productId | long | 必填 | 产品Id |  |
| productRebateId | long | 必填 | 产品派息设置Id |  |


* 请求响应：

```JSON
{
    "code": 0,
    "msg": "ok",
    "data": 200 // 200=开始派息 40001=参数错误 31018=账号不存在 33001=账户余额不足 30020=重复提交 31089=该派息已被取消
}
```

## 9.取消派息
* 接口地址: `https://server:port/api/v1/staking/product/rebate/cancel`
* 请求方法: POST
* 请求参数：

| 参数 | 类型 | 是否必填 | 描述 | 备注 |
| :----------- | :------ | :------- | :----------- | :---------- |
| productId | long | 必填 | 产品Id |  |
| productRebateId | long | 必填 | 产品派息设置Id |  |

* 请求响应：

```JSON
{
    "code": 0,
    "msg": "ok"
}
```


## 10.查询历史派息记录
* 接口地址: `https://server:port/api/v1/staking/product/rebate/history_list`
* 请求方法: POST
* 请求参数：

| 参数 | 类型 | 是否必填 | 描述 | 备注 |
| :----------- | :------ | :------- | :----------- | :---------- |
| productType | int | 选填 | 产品类型 |  |
| pageNo | int | 选填 | 页码 | 默认1 |
| size | int | 选填 | 条数 | 默认100 |

* 请求响应：

```JSON
{
    "code": 0,
    "msg": "ok",
    "data": [
        {
            "id": "19",
            "productId": "9",
            "productName": "BTC-2",
            "productType": 0,
            "dividendType": 0,
            "tokenId": "BTC",
            "tokenName": "BTC",
            "rebateDate": "1597852800000",
            "principalAmount": "0.21",
            "interestAmount": "0.00005749",
            "interestTokenId": "BTC",
            "interestTokenName": "BTC",
            "rebateRate": "0.1",
            "status": 2,
            "numberOfPeriods": 1,
            "updateAt": "1598346704562"
        },
        {
            "id": "18",
            "productId": "9",
            "productName": "BTC-2",
            "productType": 0,
            "dividendType": 0,
            "tokenId": "BTC",
            "tokenName": "BTC",
            "rebateDate": "1597766400000",
            "principalAmount": "0.21",
            "interestAmount": "0",
            "interestTokenId": "BTC",
            "interestTokenName": "BTC",
            "rebateRate": "0.1",
            "status": 2,
            "numberOfPeriods": 1,
            "updateAt": "1597916140632"
        }
    ]
}
```


## 11.查询资金账户
* 接口地址: `https://server:port/api/v1/platform_account/fund_account/query`
* 请求方法: POST
* 请求参数：

* 请求响应：

```JSON
{
    "code": 0,
    "msg": "ok",
    "data": [
        {
            "id": "5",
            "orgId": "6001",
            "userId": "213670635635998720",
            "accountId": "213670654898113536",
            "tag": "45",
            "remark": "55",
            "isShow": 0, //0=不可见 1=可见
            "createdAt": "1598007343756",
            "updatedAt": "1598007343756"
        },
        {
            "id": "3",
            "orgId": "6001",
            "userId": "554",
            "accountId": "554",
            "tag": "134",
            "remark": "34",
            "isShow": 0,
            "createdAt": "1597975134085",
            "updatedAt": "1597975134085"
        },
        {
            "id": "2",
            "orgId": "6001",
            "userId": "234",
            "accountId": "234",
            "tag": "13",
            "remark": "13",
            "isShow": 0,
            "createdAt": "1597975134085",
            "updatedAt": "1597975134085"
        },
        {
            "id": "1",
            "orgId": "6001",
            "userId": "123",
            "accountId": "123",
            "tag": "12",
            "remark": "12",
            "isShow": 0,
            "createdAt": "1597975134085",
            "updatedAt": "1597975134085"
        }
    ]
}
```

## 12.检查绑定资金账户
* 接口地址: `https://server:port/api/v1/platform_account/fund_account/check`
* 请求方法: POST
* 请求参数：

| 参数 | 类型 | 是否必填 | 描述 | 备注 |
| :----------- | :------ | :------- | :----------- | :---------- |
| accountId | long | 必填 | 账户Id | 需是币币主账户 |

* 请求响应：

```JSON
{
    "code": 0,
    "msg": "ok",
    "data": {
        "accountId": "618701336852090624",
        "userId": "618701336472788224",
        "authType": 1,
        "requestId": "698301393781720064"
    }
}
```

## 13.绑定资金账户
* 接口地址: `https://server:port/api/v1/platform_account/fund_account/bind`
* 请求方法: POST
* 请求参数：

| 参数 | 类型 | 是否必填 | 描述 | 备注 |
| :----------- | :------ | :------- | :----------- | :---------- |
| userId | long | 必填 | 用户Id | |
| accountId | long | 必填 | 账户Id | 需是币币主账户 |
| tag | string | 必填 | 标签 | 最长64 |
| remark | string | 选填 | 备注说明 | 最长255 |
| authType | int | 必填 | 验证类型 | 1=手机验证码 3=GA |
| requestId | long | 选填 | 请求Id | 手机验证码验证时必填 |
| verifyCode | string | 必填 | 验证码 |  |


* 请求响应：

```JSON
{
    "code": 0,
    "msg": "ok"
}
```

## 14.设置资金账户可见
* 接口地址: `https://server:port/api/v1/platform_account/fund_account/set_visible`
* 请求方法: POST
* 请求参数：

| 参数 | 类型 | 是否必填 | 描述 | 备注 |
| :----------- | :------ | :------- | :----------- | :---------- |
| accountId | long | 必填 | 账户Id |  |


* 请求响应：

```JSON
{
    "code": 0,
    "msg": "ok"
}
```


## 15.设置资金账户不可见
* 接口地址: `https://server:port/api/v1/platform_account/fund_account/set_unvisible`
* 请求方法: POST
* 请求参数：

| 参数 | 类型 | 是否必填 | 描述 | 备注 |
| :----------- | :------ | :------- | :----------- | :---------- |
| accountId | long | 必填 | 账户Id | |


* 请求响应：

```JSON
{
    "code": 0,
    "msg": "ok"
}
```

## 16.查询可见资金账户（理财管理界面用）
* 接口地址: `https://server:port/api/v1/staking/product/fund_account/list`
* 请求方法: POST
* 请求参数：

* 请求响应：

```JSON
{
    "code": 0,
    "msg": "ok",
    "data": [
        {
            "id": "5",
            "orgId": "6001",
            "userId": "213670635635998720",
            "accountId": "213670654898113536",
            "tag": "45",
            "remark": "55",
            "isShow": 1
        },
        {
            "id": "7",
            "orgId": "6001",
            "userId": "618701336472788224",
            "accountId": "618701336852090624",
            "tag": "tageeee",
            "remark": "scdsc",
            "isShow": 1
        }
    ]
}
```


